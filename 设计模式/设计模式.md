# 设计原则

## SOLID原则

### single单一职责原则

案例：

原需求：哺乳动物，属性为路生，方法为跑步。

新加功能：水生动物，属性为水生，方法为游泳。**3种修改方法**：

1. 直接在原函数里面修改，增加两个属性，在方法里面增加类别判断，路生用跑步，水生用游泳。
2. 新添方法游泳，只增加方法，不修改原函数
3. 新添一个动物类，增加水生属性和游泳方法，新添类别

永远不要使用第一种方法，时间紧张的话采用第二种方法，刚写代码的时候尽量采用第三种方式。

> 总结：指导类的设计，功能尽量单一。

### Lsp里氏替换原则

父类出现的地方，必然可以用子类去替代，但是反之不一定。

> 总结：指导类继承的设计，判断继承关系是否合理，只要父类出现的地方子类就能出现。

### ⭐️⭐️Interface接口隔离原则

案例：

蝙蝠是哺乳动物，能够飞翔。

鲸鱼是哺乳动物，却生活在海中。

天鹅是鸟类，能在天上飞，水里游，地上走。

抽象成接口

生理特征：哺乳类，鸟类，鱼类

哺乳类：恒温，卵生，哺乳等生理特征

鸟类：恒温，卵生，前肢成翅等生理特征

鱼类：流线型体型，用腮呼吸等生理特征

这里将奔跑，游泳，飞翔抽象成接口的操作就是对接口的一种细粒度拆分，可以提高灵活性。



> 总结：指导接口的设计，接口要精简单一。

### ⭐️⭐️dependence依赖倒置原则

相似功能或者相同特征的类----》抽象类：负责定义的统一的方法----》具体的实现类继承这个抽象类

相似功能或者相同特征的类----》接口：负责定义的统一的方法    ----》实现类负责具体功能的实现

案例：

原需求：动物抽象成了类，走路，游泳，飞行抽象了移动方法。

新加功能：新添加食物类。

方法：

1. 对每种动物类添加吃的方法。弊端很多：每个动物需要写吃的方法，每个动物可能吃不止一种食物。
2. 食物抽象成类，动物依赖食物的抽象类，而不依赖具体的食物细节

> 总结：指导如何抽象，要依赖抽象和接口编程，不要依赖具体的实现。

### open-close开放封闭原则

增加新功能的时候，尽可能不去修改已有代码，修改一个模块尽可能不去修改其他模块。

案例：

原需求：动物园类，能展示已有动物的动作

新加功能：新加动物类，怎么处理。

修改方法：

1. 把动物园的所有动物抽象出基类
2. 把动物的移动方法抽象成动作方法。
3. 动物园两个方法，添加动物，展示动物

> 总结：开放和封闭式整个设计的最终目标和原则，对拓展开放，对修改封闭。

## 实用原则

### Law of Demeter（LoD原则）

一个类对自己依赖的类知道的越少越好，这个类只需要和直接的对象交互，不在乎对象的内部组成结构。

例子：

```python
#类A中有类B，类B中有类C，调用方有一个类A的对象a,要访问类C的属性
a.getB().getC().getProperties()
#要采用以下方式
a.getCProperties()
#伪代码：咨询动物园动物情况，直接问动物园园长就好了
zooAdmin.getPandaBeiBeiInfo()
```



### Keep It Simple and Stupid（KISS原则）

无论谁接手这个项目，都能很容易被看懂。代码简洁，备注都写上，让人能看明白

> 设计模式，为了模式而模式，过度设计，非常不可取。要警惕💡

### Don't Repeat Yourself（DRY原则）

不要重复你的代码。

**级别**

> 泛型设计：装饰器消除冗杂的代码
>
> > 类级别的抽象：把具有相似功能或行为的类进行抽象，抽象出基类，并把这几个类的方法提到基类实现
> >
> > > 函数级别：经常用、重复出现的功能封装成一个通用的函数

### You Aren't Gonna Need It（YAGNI原则）

只考虑和设计必需的功能，不要**过度设计**。

### Rule of Three 原则

事不过三，某个功能出现第三次的时候，再进行抽象化，事不过三，三则重构。

### xCommand-Query Separation（CQS原则）

Query（查询）：当一个方法返回一个值来回应一个问题的时候，就具备查询的性质。

Command（命令）：当一个方法要改变对象的状态的时候，就具备命令的性质。

# 工厂模式

[参考其他教程](https://design-patterns.readthedocs.io/zh_CN/latest/index.html)

# UML类图

## 参考资料

[必须掌握的UML](https://zhuanlan.zhihu.com/p/102337993)

知乎简单介绍

[五分钟带你读懂UML类图](https://zhuanlan.zhihu.com/p/85960253)



![preview](https://pic4.zhimg.com/v2-e6a48521352fff8270e753ea4a79d9fb_r.jpg)